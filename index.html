<!DOCTYPE html>
<html>
    <head>
        <title>Media Fanfiction</title>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
        <link rel="icon" type="image/png" href="favicon.png" />
        <style>
            body {
                max-width: 700px;
                margin: auto;
                font-family: Verdana, Geneva, sans-serif;
                background-color: #555555;
            }

            .container {
                background-color: #999999;
                margin-top: 100px;
                padding: 20px;
                padding-top: 1px;
            }
        </style>
    </head>
    <body>
        <div class="container">
            <div>
                <h1>Media Fanfiction</h1>
                <input id="replacerField" name="replaceString" type="text" value="media">
                <label for="replaceString">Lägg till er egen text här och tryck på enter.</label>
            </div>
            <div>
                <hr>
                <p id="copypasta">
                    Vad är ens "<span class="replace capital">Media</span>". Jag tror det här med "<span class="replace">media</span>" är något helt påhittat... Det låter som allt om <span class="replace">media</span> är skapat ur någon fanfiction... jag har igen aldrig hört talats om den eller sett det för den delen, jag är fortfarande osäker vad <span class="replace">media</span> ens är.
                </p>
                <hr>
                <input name="copyButton" id="copyButton" type="button" value="Kopiera till klippbrädan">
                <label style="display:none" for="copyButton">Kopierat!</label>
            </div>
            
        </div>

        <script>
            $(document).ready(function() {
                $("#replacerField").change(function() {
                    replacer = $("#replacerField").val().replace(/&/g, "&amp;").replace(/</g, "&lt;").replace(/>/g, "&gt;").replace(/"/g, "&quot;").replace(/'/g, "&#039;")
                    replacerCapitalized = replacer.charAt(0).toUpperCase() + replacer.slice(1)
                    $(".replace").html(replacer)
                    $(".capital").html(replacerCapitalized)
                })

                $("#copyButton").click(function() {
                    var text = $("#copypasta").text().trim()
                    var elem = document.createElement("textarea")
                    document.body.appendChild(elem)
                    elem.value = text
                    elem.select()
                    document.execCommand("copy")
                    document.body.removeChild(elem)

                    $('label[for="copyButton"]').show().delay(2000).fadeOut();
                })
            })
        </script>
    </body>
</html>